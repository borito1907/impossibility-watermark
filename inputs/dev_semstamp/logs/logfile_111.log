/local1/borito1907/anaconda3/envs/watermark/lib/python3.10/site-packages/transformers/utils/hub.py:127: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(
[nltk_data] Downloading package punkt to /home/borito1907/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
[2024-07-26 09:49:57,189][__main__][INFO] - Starting to watermark...
[2024-07-26 09:49:57,197][__main__][INFO] - Prompt: code for a go tiktok bot scrapper
[2024-07-26 09:49:57,197][__main__][INFO] - Prompt ID: 1799741625
[2024-07-26 09:49:57,197][__main__][INFO] - Getting the watermarker...
[2024-07-26 09:49:57,197][watermarker][INFO] - Using device: cuda
[2024-07-26 09:49:57,197][model_builders.pipeline][INFO] - Initializing MaziyarPanahi/Meta-Llama-3-70B-Instruct-GPTQ
/local1/borito1907/anaconda3/envs/watermark/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
INFO - You passed a model that is compatible with the Marlin int4*fp16 GPTQ kernel but use_marlin is False. We recommend using `use_marlin=True` to use the optimized Marlin kernels for inference. Example: `model = AutoGPTQForCausalLM.from_quantized(..., use_marlin=True)`.
[2024-07-26 09:49:57,418][auto_gptq.modeling._base][INFO] - You passed a model that is compatible with the Marlin int4*fp16 GPTQ kernel but use_marlin is False. We recommend using `use_marlin=True` to use the optimized Marlin kernels for inference. Example: `model = AutoGPTQForCausalLM.from_quantized(..., use_marlin=True)`.
INFO - The layer lm_head is not quantized.
[2024-07-26 09:49:57,967][auto_gptq.modeling._base][INFO] - The layer lm_head is not quantized.
[2024-07-26 09:50:00,880][accelerate.utils.modeling][INFO] - We will use 90% of the memory on device 0 for storing the model, and 10% for the buffer to avoid OOM. You can set `max_memory` in to a higher value to use more memory (at your own risk).
The model 'LlamaGPTQForCausalLM' is not supported for text-generation. Supported models are ['BartForCausalLM', 'BertLMHeadModel', 'BertGenerationDecoder', 'BigBirdForCausalLM', 'BigBirdPegasusForCausalLM', 'BioGptForCausalLM', 'BlenderbotForCausalLM', 'BlenderbotSmallForCausalLM', 'BloomForCausalLM', 'CamembertForCausalLM', 'LlamaForCausalLM', 'CodeGenForCausalLM', 'CohereForCausalLM', 'CpmAntForCausalLM', 'CTRLLMHeadModel', 'Data2VecTextForCausalLM', 'DbrxForCausalLM', 'ElectraForCausalLM', 'ErnieForCausalLM', 'FalconForCausalLM', 'FuyuForCausalLM', 'GemmaForCausalLM', 'Gemma2ForCausalLM', 'GitForCausalLM', 'GPT2LMHeadModel', 'GPT2LMHeadModel', 'GPTBigCodeForCausalLM', 'GPTNeoForCausalLM', 'GPTNeoXForCausalLM', 'GPTNeoXJapaneseForCausalLM', 'GPTJForCausalLM', 'JambaForCausalLM', 'JetMoeForCausalLM', 'LlamaForCausalLM', 'MambaForCausalLM', 'MarianForCausalLM', 'MBartForCausalLM', 'MegaForCausalLM', 'MegatronBertForCausalLM', 'MistralForCausalLM', 'MixtralForCausalLM', 'MptForCausalLM', 'MusicgenForCausalLM', 'MusicgenMelodyForCausalLM', 'MvpForCausalLM', 'OlmoForCausalLM', 'OpenLlamaForCausalLM', 'OpenAIGPTLMHeadModel', 'OPTForCausalLM', 'PegasusForCausalLM', 'PersimmonForCausalLM', 'PhiForCausalLM', 'Phi3ForCausalLM', 'PLBartForCausalLM', 'ProphetNetForCausalLM', 'QDQBertLMHeadModel', 'Qwen2ForCausalLM', 'Qwen2MoeForCausalLM', 'RecurrentGemmaForCausalLM', 'ReformerModelWithLMHead', 'RemBertForCausalLM', 'RobertaForCausalLM', 'RobertaPreLayerNormForCausalLM', 'RoCBertForCausalLM', 'RoFormerForCausalLM', 'RwkvForCausalLM', 'Speech2Text2ForCausalLM', 'StableLmForCausalLM', 'Starcoder2ForCausalLM', 'TransfoXLLMHeadModel', 'TrOCRForCausalLM', 'WhisperForCausalLM', 'XGLMForCausalLM', 'XLMWithLMHeadModel', 'XLMProphetNetForCausalLM', 'XLMRobertaForCausalLM', 'XLMRobertaXLForCausalLM', 'XLNetLMHeadModel', 'XmodForCausalLM'].
/local1/borito1907/anaconda3/envs/watermark/lib/python3.10/site-packages/langchain_core/_api/deprecation.py:119: LangChainDeprecationWarning: The class `HuggingFacePipeline` was deprecated in LangChain 0.0.37 and will be removed in 0.3. An updated version of the class exists in the from rom langchain-huggingface package and should be used instead. To use it run `pip install -U from rom langchain-huggingface` and import as `from from rom langchain_huggingface import llms import HuggingFacePipeline`.
  warn_deprecated(
[2024-07-26 09:50:23,721][watermarkers.semstamp][INFO] - Setting up generating components...
[2024-07-26 09:50:23,726][watermarkers.semstamp][INFO] - {'max_new_tokens': 1024, 'do_sample': True, 'temperature': 1, 'top_p': 0.95, 'top_k': 40, 'repetition_penalty': 1.1, 'bad_words_ids': [[198]], 'min_new_tokens': 245}
[2024-07-26 09:50:23,726][watermarkers.semstamp][INFO] - Initializing embedder model.
[2024-07-26 09:50:23,726][watermarkers.semstamp][INFO] - Using the generic SentenceTransformer...
[2024-07-26 09:50:23,726][sentence_transformers.SentenceTransformer][INFO] - Use pytorch device_name: cuda
[2024-07-26 09:50:23,726][sentence_transformers.SentenceTransformer][INFO] - Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v1
[2024-07-26 09:50:24,828][watermarkers.semstamp][INFO] - Finished initializing embedder model.
initializing random projection LSH model
loading SBERT base model...
[2024-07-26 09:50:24,830][__main__][INFO] - {'prompt': None, 'prompt_file': './data/WQE/dev.csv', 'prompt_num': 111, 'is_completion': False, 'generation_stats_file_path': './inputs/dev_semstamp/gen_stats/prompt_111.csv', 'watermarked_text_file_name': None, 'generator_args': {'model_name_or_path': 'MaziyarPanahi/Meta-Llama-3-70B-Instruct-GPTQ', 'revision': 'main', 'model_cache_dir': './.cache/', 'device_map': 'auto', 'trust_remote_code': True, 'max_new_tokens': 1024, 'min_new_tokens': 768, 'do_sample': True, 'temperature': 1, 'top_p': 0.95, 'top_k': 40, 'repetition_penalty': 1.1, 'watermark_score_threshold': 5.0, 'diversity_penalty': 0}, 'watermark_args': {'name': 'semstamp_lsh', 'embedder': None, 'delta': 0.01, 'sp_mode': 'lsh', 'sp_dim': 3, 'lmbd': 0.25, 'max_new_tokens': 255, 'min_new_tokens': 245, 'max_trials': 50, 'critical_max_trials': 75, 'cc_path': None, 'train_data': None, 'device': 'auto', 'len_prompt': 32, 'z_threshold': 0.5, 'use_fine_tuned': False}, 'attack_args': {'prompt': None, 'prompt_file': './inputs/dynamic_prompts.csv', 'prompt_num': 6, 'watermarked_text': None, 'watermarked_text_path': None, 'watermarked_text_num': 1, 'num_steps': 2000, 'patience': 250, 'stop_at_removal': False, 'num_successful_steps': 100, 'results_dir': None, 'model_cache_dir': '/local1/borito1907/.cache/', 'save_name': None, 'use_watermark': False, 'backtrack_patience': 50, 'is_completion': False, 'json_path': None, 'json_index': 0, 'is_continuation': False, 'prev_csv_file': None, 'cuda': '1'}, 'watermarked_text_file_path': './inputs/dev_semstamp/watermarked_texts.csv'}
[2024-07-26 09:50:24,830][__main__][INFO] - Got the watermarker. Generating watermarked text...
[2024-07-26 09:50:24,830][watermarkers.semstamp][INFO] - Passing the following prompt to the LSH reject completion function:
 code for a go tiktok bot scrapper
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  2.00it/s]Batches: 100%|██████████| 1/1 [00:00<00:00,  2.00it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
The attention mask is not set and cannot be inferred from input because pad token is same as eos token.As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
[2024-07-26 09:51:03,591][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go that uses the `goquery` and `colly` libraries to scrape TikTok profiles:
```go

package main

import (
	"fmt"
	"log"

	"github.com/Puerk/go-colly/colly"
	"github.com/Puerk/go-query"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML("html", func(e *colly.HTMLElement) {
		doc, err := goquery.NewDocumentFromNode(e)
		if err!= nil {
			log.Fatal(err)
		}

		// Extract user profile information from HTML document

		profileName := doc.Find("h2.TtC4").Text()
		profileUsername := doc.Find("p.JvJr").Text()
		profileBio := doc.Find("p.UITb").Text()

		fmt.Printf("Profile Name: %s\n", profileName)
		fmt.Printf("Profile Username: %s\n", profileUsername)
		fmt.Printf("Profile Bio: %s\n", profileBio)

		// Extract video links from HTML document

		videoLinks := make([]string, 0)
		doc.Find("a.SC").Each(func(i int, s *goquery.Selection) {
			href, exists := s.Attr("href")
			if exists && strings.Contains(href, "video") {
				videoLinks = append(videoLinks, href)
			}
		})

		for _, link := range videoLinks {
			fmt.Printf("Video Link: %s\n", link)
		}
	})

	// Start scraping TikTok profile pages

	startURL := "https://www.tiktok.com/@example" // replace with target profile URL

	c.Visit(startURL)

	c.Wait()
}

```
This code creates a Colly collector instance and defines an HTML callback function that extracts user profile information (name, username, bio) and video links from the HTML document.


[2024-07-26 09:51:03,592][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 57.31it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 72.29it/s]
[2024-07-26 09:51:03,632][watermarkers.semstamp][INFO] - LSH Candidate: 6
[2024-07-26 09:51:03,633][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:51:03,633][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:51:03,633][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:51:09,861][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go for a TikTok bot scraper:
```
package main

import (
	"context"
	"fmt"
	"log"
	"net/http"
	"strings"

	"github.com/gocolly/colly/v2"
	"github.com/gocolly/colly/v2/queue"
)

func main() {
	// Create a new Colly instance with a default concurrency of 10 requests at once.

[2024-07-26 09:51:09,862][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 102.32it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 118.63it/s]
[2024-07-26 09:51:09,886][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:51:09,886][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:51:09,886][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:51:09,886][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:51:49,284][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go (Golang) script that scraps TikTok users' information and videos:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

const (
	TikTokAPI     = "https://www.tiktok.com/node/"
	UserEndpoint = "api/v1/user/"
.VideoEndpoint = "api/v1/item/list/reply/"
)

type User struct {
	Username string `json:"username"`
	ID       string `json:"id_str"`
	Name     string `json:"name"`
}

type Video struct {
	ID        string `json:"id"`
	Caption   string `json:"caption"`
	CreatedAt int64  `json:"create_time"`
}

func main() {
	client := &http.Client{}

	// Replace with the username you want to scrape 
	username := "tiktok_username"

	user, err := getUser(client, username)
	if err!= nil {
		log.Fatal(err)
	}
	fmt.Printf("Scraping user %s (%s)\n", user.Name, user.ID)

	videos, err := getVideos(client, user.ID)
	if err!= nil {
		log.Fatal(err)
	}
	for _, video := range videos {
		fmt.Printf("Video ID: %s | Caption: %s | Created At: %d\n",
			video.ID, video.Caption, video.CreatedAt)
	}
}

func getUser(client *http.Client, username string) (*User, error) {
	url := fmt.Sprintf("%s%s/%s/", TikTokAPI, UserEndpoint, username)
	req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		return nil, err 
	}
	resp, err := client.Do(req)
	if err!= nil {
		return nil, err 
	}
	defer resp.Body.Close()

	var user User 
	err = json.NewDecoder(resp.Body).Decode(&user)
	return &user, err 
}

func getVideos(client *http.Client, userID string) ([]Video, error) {
	url := fmt.Sprintf("%s%s/%s/reply/?count=100&cursor=0", TikTokAPI, VideoEndpoint, userID)
 req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		return nil, err 
	}
	resp, err := client.Do(req)
	if err!= nil {
		return nil, err 
	}
	defer resp.Body.Close()

	var videos []Video 
	err = json.NewDecoder(resp.Body).Decode(&videos)
	return videos, err 
}
```
Please note that:

* This script only scrapes publicly available information and does not violate TikTok's terms of service.

[2024-07-26 09:51:49,284][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 57.96it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 71.42it/s]
[2024-07-26 09:51:49,322][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:51:49,323][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:51:49,323][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:51:49,323][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:51:50,225][watermarkers.semstamp][INFO] - Candidate text: 

A TikTok bot scraper in Go!


[2024-07-26 09:51:50,226][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 81.80it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 133.94it/s]
[2024-07-26 09:51:50,251][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:51:50,251][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:51:50,251][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:51:50,251][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:52:07,741][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go

package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/PuerkitoBio/goquery"
)

func main() {
	// Set up the HTTP client and headers 
	client := &http.Client{}
	headers := map[string]string{
		"User-Agent":      "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
		"Accept-Language": "en-US,en;q=0.8",
	}

	// Set up the TikTok API endpoint and parameters 
	endpoint := "https://www.tiktok.com/api/reply/"
	params := url.Values{}
	params.Set("count", "20")
	params.Set("offset", "0")
	params.Set("lang", "en")

	// Loop through the pages of comments 
	for i := 0; ; i++ {
		params.Set("offset", fmt.Sprintf("%d", i*20))
		req, err := http.NewRequest("GET", endpoint+"?
[2024-07-26 09:52:07,742][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 77.75it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 92.61it/s]
[2024-07-26 09:52:07,771][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:52:07,772][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:52:07,772][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:52:07,772][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:52:12,721][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go`
package main

import (
	"context"
	"fmt"
	"log"

	"github.com/gotiktok/go-tiktok/tiktok"
)

func main() {
	// Create a new TikTok client with your app's API key and secret key.

[2024-07-26 09:52:12,722][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 104.55it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 120.13it/s]
[2024-07-26 09:52:12,745][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:52:12,746][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:52:12,746][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:52:12,746][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:52:44,532][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"fmt"
	"log"
	"net/http"
	"strings"

	"github.com/dghubble/go-twitter/twitter"
	"github.com/gocolly/colly"
)

func main() {
	// Set up the Colly framework for scraping TikTok data 
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	// Define the user agent to mimic a real browser request 
	userAgent := "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, a Geeko Chrome/58.0.3029.110 Safari/537.3"
	c.SetUserAgent(userAgent)

	// Set up the TikTok API endpoint and headers 
	endpoint := "https://api.tiktok.com/api/ challenges/popular/?count=30&device_id=&device_type=phone&language=en&region="
	headers := map[string]string{
		"Referer":    "https://www.tiktok.com/",
		"User-Agent": userAgent,
	}

	// Create a new HTTP client with a custom transport to set the headers 
	client := &http.Client{}
	transport := &http.Transport{}
	client.Transport = transport

	// Define the callback function to handle scraped data 
	c.OnHTML(`html`, func(e *colly.HTMLElement) {
		// Extract the video URLs from the HTML response 
		videoUrls := e.DOM.Find(`div[data-video]`)
		for _, videoUrl := range videoUrls {
			url := videoUrl.Attr(`data-video`)
			fmt.Println(url)
			// You can add additional logic here to process the scraped data, such as saving it to a database or sending it to a server 
		}
	})

	// Start the scraping process by making an HTTP GET request to the TikTok API endpoint 
	err := c.Visit(endpoint)
	if err!= nil {
		log.Fatal(err)
	}
}
```
This code sets up a Colly framework collector to scrape popular challenges from TikTok's API endpoint.
[2024-07-26 09:52:44,532][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 59.47it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 73.30it/s]
[2024-07-26 09:52:44,569][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:52:44,570][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:52:44,570][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:52:44,570][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:53:07,123][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic Go program that scrapes TikTok user information and video data using the TikTok API:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"net/http"
	"strings"
)

type TikTokUser struct {
	Username string `json:"username"`
	UserId   int    `json:"user_id"`
	Avatar  string `json:"avatar"`
}

type TikTokVideo struct {
	VideoId   string `json:"video_id"`
	Title     string `json:"title"`
	Duration int    `json:"duration"`
	Views     int    `json:"views"`
	Likes     int    `json:"likes"`
	Comments  int    `json:"comments"`
}

func main() {
	// Set your TikTok API token here (you can obtain one by creating an app on TikTok Developer Portal)
	apiToken := "YOUR_API_TOKEN"

	// Set the username of the TikTok user you want to scrape data from 
	username := "tiktok_username"

	// Get the user ID from the username 
	userUrl := fmt.Sprintf("https://api.tiktok.com/v1/user/%s/info/?access_token=%s", username, apiToken)
	resp, err := http.Get(userUrl)
	if err!= nil {
		fmt.Println(err)
		return 
	}
	defer resp.Body.Close()

	var userResponse map[string]interface{}
	err = json.NewDecoder(resp.Body).Decode(&userResponse)
	if err!= nil {
		fmt.Println(err)
		return 
	}

	userData := userResponse["user
[2024-07-26 09:53:07,124][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 75.47it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 88.53it/s]
[2024-07-26 09:53:07,154][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:53:07,154][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:53:07,155][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:53:07,155][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:53:45,687][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

// TikTok API endpoint
const apiEndpoint = "https://api.tiktok.com/v1/"

// Structure to hold TikTok video data
type Video struct {
	ID        string `json:"id"`
	Description string    `json:"description"`
	Creator   string    `json:"creator_name"`
	Thumbnail string    `json:"thumbnail_url"`
	ViewCount int     `json:"view_count"`
}

func main() {
	// Set up HTTP client
	client := &http.Client{
		Timeout: 10 * time.Second,
	}

	// Set up TikTok API request headers
	headers := map[string]string{
		"User-Agent":      "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
		"Accept":         "application/json",
		"Content-Type":   "application/json",
		"X-TikTok-Api-Key": "<YOUR_API_KEY>",
	}

	// Define the search query
	searchQuery := "funny cats"

	// Construct the API request URL
	url := fmt.Sprintf("%ssearch/videos/?q=%s&count=100", apiEndpoint, strings.ReplaceAll(searchQuery, " ", "+"))

	// Send the GET request
	req, err := http.NewRequest("GET", url, strings.NewReader(""))
	if err!= nil {
		log.Fatal(err)
	}
	for k, v := range headers {
		req.Header.Add(k, v)
	}

	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	// Parse the JSON response
	var videos []Video
	err = json.NewDecoder(resp.Body).Decode(&videos)
	if err!= nil {
		log.Fatal(err)
	}

	// Print out the scraped video data
	for _, video := range videos {
		fmt.Printf("ID: %s\nDescription: %s\nCreator: %s\nThumbnail: %s\nView Count: %d\n\n", video.ID, video.Description, video.Creator, video.Thumbnail, video.ViewCount)
	}
}
```
This code uses the `net/http` package to send a GET request to the TikTok API with a search query, and then parses the JSON response using the `encoding/json` package.


[2024-07-26 09:53:45,688][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 54.51it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 72.28it/s]
[2024-07-26 09:53:45,727][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:53:45,727][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:53:45,727][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:53:45,727][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:54:27,530][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a TikTok bot scraper in Go:
```go

package main

import (
	"fmt"
	"log"
	"net/http"
	"strings"

	"github.com/PuerkitoBio/goquery"
)

func main() {
	// Set up the HTTP client with a user agent to avoid being blocked by TikTok's rate limiter 
	client := &http.Client{}
	req, of UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"}

	// Define the URL to scrape (e.g., a popular creator or hashtag)
	url := "https://www.tiktok.com/@charlidamelio"

	// Send an HTTP GET request to the URL and get the HTML response 
	resp, := Get(client, url)
	defer resp.Body.Close()

	// Load the HTML document using goquery 
	doc, := goquery.NewDocumentFromReader(resp.Body)

	// Extract the data you want from the HTML document (e.g., video titles, captions, comments)
	videoTitles := make([]string, 0)
	doc.Find("div[class='video-card']").Each(func(i int, s *goquery.Selection) {
		videoTitle := s.Find("h2[class='title']").Text()
		videoTitles = append(videoTitles, videoTitle)
	})

	captions := make([]string, 0)
	doc.Find("p[class='caption']").Each(func(i int, s *goquery.Selection) {
		caption := s.Text()
		captions = append(captions, caption)
	})

	comments := make([]string, 0)
	doc.Find("span[class='comment-text']").Each(func(i int, s *goquery.Selection) {
		comment := s.Text()
		comments = append(comments, comment)
	})

	// Print out the extracted data 
	fmt.Println("Video Titles:")
	for _, title := range videoTitles {
		fmt.Println(title)
	}

	fmt.Println("\nCaptions:")
	for _, caption := range captions {
		fmt.Println(caption)
	}

	fmt.Println("\nComments:")
	for _, comment := range comments {
		fmt.Println(comment)
	}
}

func Get(client *http.Client, url string) (*http.Response, error) {
	req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		return nil, err 
	}

	req.Header.Set("User-Agent", client.UserAgent)
	resp, err := client.Do(req)
	if err!= nil {
		return nil, err 
	}

	return resp, nil 
}
```
This code uses the `net/http` package to send an HTTP GET request to the specified TikTok URL, and then uses the `goquery` package to parse the HTML response.


[2024-07-26 09:54:27,531][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 59.58it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:54:46,387][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic Go program that uses the `colly` library to scrape TikTok user information:
```
package main

import (
	"fmt"
	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com"),
	)
	
	c.OnHTML("html", func(e *colly.HTMLElement) {
		e.ForEach("div[class='userInfo'] a[href]", func(element *colly.HTMLElement) {
			userURL, in element.Request.URI().Path
			
			fmt.Println("User URL:", userURL)
			
			c.Visit(userURL)
		})
	})
	
	c.OnHTML("html", func(e *colly.HTMLElement) {
		e.ForEach("h2[class='username'] span", func(element *colly.HTMLElement) {
			username := element.Text
			
			fmt.Println("Username:", username)
		})
		
		e.ForEach("p[class='bio'] span", func(element *colly.HTMLElement) {
			bio := element.Text
			
			fmt.Println("Bio:", bio)
		})
	})
	
	c.Start("https://www.tiktok.com/@[username]")
}

```
This code creates a new Colly collector and defines two handlers:

1.
[2024-07-26 09:54:46,387][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 71.54it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 102.23it/s]
[2024-07-26 09:54:46,417][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:54:46,417][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:54:46,417][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:54:46,418][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:54:57,645][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"fmt"
	"github.com/gocolly/colly"
	"github.com/gocolly/colly/extensions"
	"github.com/hashicorp/go-retry"
	"log"
	"net/http"
	"strings"
	"time"
)

const (
	tikTokURL = "https://www.tiktok.com/@%s"
	userAgent  = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"
)

type tikTokBot struct {
	collyCollector *colly.Collector // Colly collector instance.

[2024-07-26 09:54:57,646][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 97.25it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:55:27,570][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go for a TikTok bot scraper:
```go

package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/PuerkitoBio/goquery"
)

func main() {
	// Set up the TikTok API endpoint and your app's API key (if you have one)
	endpoint := "https://www.tiktok.com/api/recommend/user/"
	apiKey := ""

	// Set up the user agent to mimic a mobile browser (TikTok blocks requests from non-mobile browsers)
	userAgent := "Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0 Mobile/15E148 Safari/604.1"

	// Create a new HTTP client with the custom user agent

	client := &http.Client{}
	req, err := http.NewRequest("GET", endpoint, nil)
	if err!= nil {
		log.Fatal(err)
	}
	req.Header.Set("User-Agent", userAgent)
	if apiKey!= "" {
		req.Header.Set("X-Api-Key", apiKey)
	}

	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	// Load the HTML response into a goquery document

	doc, := goquery.NewDocumentFromReader(resp.Body)
	var videoUrls []string

	// Extract video URLs from the HTML document

	doc.Find("div.video-item").Each(func(i int, s *goquery.Selection) {
		videoUrl, _ := s.Attr("href")
		videoUrls = append(videoUrls, "https://www.tiktok.com"+videoUrl)
	})

	// Print out the extracted video URLs

	for _, url := range videoUrls {
		fmt.Println(url)
	}
}

```
This code sends a GET request to the TikTok API endpoint, loads the HTML response into a goquery document, extracts the video URLs from the document, and prints them out.


[2024-07-26 09:55:27,571][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 62.26it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 74.18it/s]
[2024-07-26 09:55:27,606][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:55:27,606][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:55:27,607][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:55:27,607][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:55:41,583][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a simple TikTok bot scraper written in Go:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/dghubble/go-twitter/twitter"
)

type TikTok struct {
	Username string `json:"username"`
	Profile  struct {
		AvatarURL    string `json:"avatarUrl"`
		Bio          string `json:"bio"`
		FollowerCount int    `json:"followerCount"`
	} `json:"profile"`
	VideoList []struct {
		ID       string `json:"id"`
		Title    string `json:"title"`
		Thumb   string `json:"thumb"`
		Duration int    `json:"duration"`
		ViewCount int    `json:"viewCount"`
	} `json:"videoList"`
}

func main() {
	client := &http.Client{}

	// Set your TikTok API endpoint and access token here!

[2024-07-26 09:55:41,584][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 89.52it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:56:52,410][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of how you could create a simple TikTok bot scraper using Go:
```
package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/PuerkitoBio/goquery"
)

func main() {
	// Set up the TikTok API endpoint and headers 
	tiktokAPI := "https://www.tiktok.com/api/recommend/user/"
	headers := map[string]string{
		"User-Agent":      "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
		"Accept-Language": "en-US,en;q=0.8",
	}

	// Set up the bot's username and password 
	username := "your_username"
	password := "your_password"

	// Log in to TikTok 
	loginURL := "https://www.tiktok.com/login/"
	resp, a request to log in 
	client := &http.Client{}
	req, := httputils.NewRequest("POST", loginURL, strings.NewReader(`{"username":"`+username+`","password":"`+password+`"}`), headers)
	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	// Get the cookie from the response 
.cookie := resp.Cookies()[0].Value

	// Set up the scraper 
	scraper := NewTikTokScraper(tiktokAPI, headers, cookie)

	// Scrape popular videos 
	popularVideos, := scraper.GetPopularVideos()
	for _, video := range popularVideos {
		fmt.Println(video.VideoID, video.Description)
	}

	// Scrape user's videos 
	userVideos, := scraper.GetUserVideos(username)
	for _, video := range userVideos {
		fmt.Println(video.VideoID, video.Description)
	}
}

type TikTokVideo struct {
	VideoID   string `json:"id"`
	Description string `json:"description"`
}

type TikTokScraper struct {
	tiktokAPI string 
	headers    map[string]string 
	cookie     string 
}

func NewTikTokScraper(tiktokAPI string, headers map[string]string, cookie string) *TikTokScraper {
	return &TikTokScraper{tiktokAPI: tiktokAPI, headers: headers, cookie: cookie}
}

func (s *TikTokScraper) GetPopularVideos() ([]*TikTokVideo, error) {
	resp, err := http.Get(s.tiktokAPI + "?count=50")
	if err!= nil {
		return nil, err 
	}
	defer resp.Body.Close()

	doc, err := goquery.NewDocumentFromReader(resp.Body)
	if err!= nil {
		return nil, err 
	}

	var popularVideos []*TikTokVideo 
	doc.Find(".video-box").Each(func(i int, s *goquery.Selection) {
		videoID, exists := s.Attr("href")
		if!exists {
			videoID = ""
		} else {
			videoID = strings.Split(videoID, "/")[2]
		}

		description := s.Find(".desc").Text()
		popularVideos = append(popularVideos, &TikTokVideo{VideoID: videoID, Description: description})
	})

	return popularVideos, nil 
}

func (s *TikTokScraper) GetUserVideos(username string) ([]*TikTokVideo, error) {
	resp, err := http.Get(s.tiktokAPI + username + "?count=50")
	if err!= nil {
		return nil, err 
	}
	defer resp.Body.Close()

	doc, err := goquery.NewDocumentFromReader(resp.Body)
	if err!= nil {
		return nil, err 
	}

	var userVideos []*TikTokVideo 
	doc.Find(".video-box").Each(func(i int, s *goquery.Selection) {
		videoID, exists := s.Attr("href")
		if!exists {
			videoID = ""
		} else {
			videoID = strings.Split(videoID, "/")[2]
		}

		description := s.Find(".desc").Text()
		userVideos = append(userVideos, &TikTokVideo{VideoID: videoID, Description: description})
	})

	return userVideos, nil 
}
```
This code uses the `net/http` package to send requests to the TikTok API, and the `github.com/PuerkitoBio/goquery` package to parse the HTML responses.


[2024-07-26 09:56:52,410][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 54.77it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 65.88it/s]
[2024-07-26 09:56:52,451][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:56:52,451][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:56:52,451][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:56:52,451][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:57:00,184][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go program that scrapes TikTok data using the `goquery` and `colly` libraries:
```go

package main

import (
	"fmt"
	"log"

	"github.com/Puerkergroup/colly"
	"github.com/Puerkergroup/colly/queue"
	"github.com/manifoldco/prompt"
	"github.com/antlr/gorec"
)

func main() {
	// Create a new Colly instance with a user agent string to mimic a real browser request.

[2024-07-26 09:57:00,184][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 106.57it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 127.00it/s]
[2024-07-26 09:57:00,207][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:57:00,207][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:57:00,207][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:57:00,207][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:57:27,403][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

type TikTokVideo struct {
	ID        string `json:"id"`
	Text      string `json:"text"`
	Username  string `json:"username"`
	Profile   string `json:"profile"`
	Creator   string `json:"creator"`
	CreatedAt int    `json:"created_at"`
	URL       string `json:"url"`
}

func main() {
	client := &http.Client{}
	url := "https://www.tiktok.com/@username/videos"

	req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		log.Fatal(err)
	}
	
	req.Header.Set("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3")

	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		log.Fatal(err)
	}

	var data struct {
		Videos []TikTokVideo `json:"items"`
	}
	err = json.Unmarshal(body, &data)
	if err!= nil {
		log.Fatal(err)
	}

	for _, video := range data.Videos {
		fmt.Printf("ID: %s\nText: %s\nUsername: %s\nURL: %s\n\n", 
			video.ID, video.Text, video.Username, video.URL)
	}
}
```
This code uses the `net/http` package to send a GET request to the TikTok API, and then parses the JSON response using the `encoding/json` package.


[2024-07-26 09:57:27,404][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 68.38it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 72.43it/s]
[2024-07-26 09:57:27,439][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:57:27,439][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:57:27,439][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:57:27,439][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:57:42,930][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go program that uses the `colly` web scraping framework to scrape TikTok videos:
```
package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	// Set up the scraper to fetch the HTML pages and extract the video URLs

	c.OnHTML("li[class='video-item']", func(e *colly.HTMLElement) {
		videoURL := e.DOM.Find("a[href]").Attr("href")
		fmt.Println(videoURL)
	})

	// Start the scraper on the TikTok homepage

	err := c.Visit("https://www.tiktok.com/")
	if err!= nil {
		log.Fatal(err)
	}
}

```
This code sets up a Colly collector to visit the TikTok homepage, own domain, and extract the URL of each video item on the page using the CSS selector `li[class='video-item']`.
[2024-07-26 09:57:42,931][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 86.04it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 112.06it/s]
[2024-07-26 09:57:42,957][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:57:42,957][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:57:42,957][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:57:42,957][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:57:49,261][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic TikTok bot scraper written in Go:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/dghachi/tiktok-sdk-go"
)

type TikTokBot struct {
	tiktok   *tiktok.TikTokAPIv2 // Initialize the TikTok API client with your app's credentials.

[2024-07-26 09:57:49,261][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 114.45it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 129.59it/s]
[2024-07-26 09:57:49,283][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:57:49,283][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:57:49,284][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:57:49,284][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:58:31,222][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go
package main

import (
	"context"
	"fmt"
	"log"
	"net/http"
	"strings"
	"time"
)

const (
	tiktokAPI     = "https://api.tiktok.com/api/"
	videoEndpoint = "v1/video"
	userEndpoint  = "v1/user"
)

type tiktokBot struct {
	client  *http.Client
	token   string
	username string
}

func (b *tiktokBot) login() error {
	req, err := http.NewRequest("GET", tiktokAPI+userEndpoint+"/login/", nil)
	if err!= nil {
		return err
	}
	req.Header.Set("User-Agent", "TikTok Bot")
	resp, := &http.Response{
		Status:     "200 OK",
		StatusCode: 200,
	}
	defer resp.Body.Close()
	b.client.Do(req)
	if resp.StatusCode!= 200 {
		return fmt.Errorf("invalid token")
	}
	return nil
}

func (b *tiktokBot) getVideosByUsername(username string) ([]byte, error) {
	endpoint := tiktokAPI + videoEndpoint + "/by_username/" + username
	req, err := http.NewRequest("GET", endpoint, nil)
	if err!= nil {
		return nil, err
	}
	req.Header.Set("User-Agent", "TikTok Bot")
	req.Header.Set("Authorization", "Bearer "+b.token)
	resp, err := b.client.Do(req)
	if err!= nil {
		return nil, err
	}
	defer resp.Body.Close()
	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		return nil, err
	}
	return body, nil
}

func (b *tiktokBot) scrapeVideos() {
	videos, err := b.getVideosByUsername(b.username)
	if err!= nil {
		log.Println(err)
		return
	}
	var videoList []map[string]interface{}
	err = json.Unmarshal(videos, &videoList)
	if err!= nil {
		log.Println(err)
		return
	}
	for _, video := range videoList {
		fmt.Printf("Video ID: %s\n", video["id"])
		fmt.Printf("Video URL: %s\n", video["url"])
		fmt.Printf("Video Description: %s\n", video["description"])
		fmt.Println("---------------------")
	}
}

func main() {
	bot := &tiktokBot{
		client: &http.Client{Timeout: 10 * time.Second},
		token:   "YOUR_TIKTOK_TOKEN",
		username: "YOUR_TIKTOK_USERNAME",
	}
	err := bot.login()
	if err!= nil {
		log.Fatal(err)
	}
	bot.scrapeVideos()
}
```
This code defines a `tiktokBot` struct that has methods to log in to the TikTok API and scrape videos by username.


[2024-07-26 09:58:31,222][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 59.20it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 71.98it/s]
[2024-07-26 09:58:31,260][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 09:58:31,260][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:58:31,260][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:58:31,260][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:58:43,581][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/dghotti/go-tiktok/tiktok"
)

func main() {
	// Set up TikTok API credentials and endpoint URLS:
	TikTokAPIEndpoint := "https://www.tiktok.com/api/v4"
	TikTokAppID := "your_app_id_here"
	TikTokAppSecret := "your_app_secret_here"

	// Create a new TikTok client:
	client, := tiktok.NewClient(TikTokAPIEndpoint, TikTokAppID, TikTokAppSecret)

	// Set up the scraper config:
	username := "username_to_scrape" // Replace with the username you want to scrape.

[2024-07-26 09:58:43,581][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 93.05it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 104.27it/s]
[2024-07-26 09:58:43,608][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:58:43,608][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:58:43,608][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:58:43,608][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 09:59:57,325][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go
package main

import (
	"context"
	"fmt"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/gorilla/cookies"
	"github.com/tiktok/scraper-go/tiktok"
)

func main() {
	// Set up the scraper client
	client, a new(tiktok.Client{
		httpClient: &http.Client{
			Jar:     new(cookies.Jar),
		 Timeout: 10 * time.Second,
		},
	 UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
	})

	// Set up the context
	ctx := context.Background()

	// Define the username or hashtag to scrape
	username := "charlidamelio" // or any other username or hashtag

	// Scrape the user's videos
	videos, err := client.GetUserVideos(ctx, username)
	if err!= nil {
		log.Fatal(err)
	}

	// Print the video information
	for _, video := range videos {
		fmt.Printf("Video ID: %s\n", video.ID)
		fmt.Printf(" Video URL: %s\n", video.URL)
		fmt.Printf(" Video Title: %s\n", video.Title)
		fmt.Printf(" Video Description: %s\n", video.Description)
		fmt.Printf(" Likes: %d\n", video.LikesCount)
		fmt.Printf(" Comments: %d\n", video.CommentsCount)
		fmt.Printf(" Shares: %d\n", video.SharesCount)
		fmt.Println("");
	}
}


type tiktokClient struct {
	httpClient  *http.Client
	UserAgent string
	jar      *cookies.Jar
}


func NewTikTokClient() *tiktokClient {
	return &tiktokClient{
		httpClient: &http.Client{
			Jar:     new(cookies.Jar),
		 Timeout: 10 * time.Second,
		},
	 UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
	　jarp: new(cookies.Jar),
	}
}


func (c *tiktokClient) GetUserVideos(ctx context.Context, username string) ([]*Video, error) {
	req, err := http.NewRequestWithContext(ctx, "GET", fmt.Sprintf("https://www.tiktok.com/@%s", username), nil)
	if err!= nil {
		return nil, err
	}

	req.Header.Set("User-Agent", c.UserAgent)

	resp, err := c.httpClient.Do(req)
	if err!= nil {
		return nil, err
	}
	defer resp.Body.Close()

	doc, err := goquery.NewDocumentFromReader(resp.Body)
	if err!= nil {
		return nil, err
	}

	var videos []*Video
	doc.Find("div[data-e2e='video-card']").Each(func(i int, s *goquery.Selection) {
		videoID, exists := s.Attr("data-video-id")
		if!exists {
			return
		}

		videoURL, _ := s.Find("a[href^='https']").Attr("href")

		videoTitle, _ := s.Find("h2").Text()
		videoDescription, _ := s.Find("p").Text()

		likesCount, _ := strconv.Atoi(s.Find("button[aria-label='Like']").AttrOr("aria-label", "0"))
		commentsCount, _ := strconv.Atoi(s.Find("button[aria-label='Comment']").AttrOr("aria-label", "0"))
		sharesCount, _ := strconv.Atoi(s.Find("button[aria-label='Share']").AttrOr("aria-label", "0"))

		video := &Video{
			ID:           videoID,
			URL:          videoURL,
			Title:        strings.TrimSpace(videoTitle),
			Description: strings.TrimSpace(videoDescription),
			LikesCount:   likesCount,
			CommentsCount: commentsCount,
		SharesCount:   sharesCount,
		}
		videos = append(videos, video)
	})

	return videos, nil
}


type Video struct {
	ID           string `json:"id"`
	URL          string `json:"url"`
	Title        string `json:"title"`
	Description string `json:"description"`
	LikesCount   int    `json:"likes_count"`
	CommentsCount int    `json:"comments_count"`
	SharesCount   int    `json:"shares_count"`
}
```
This code sets up a TikTok scraper client using the `tiktok` package, and defines a function `GetUserVideos` to scrape a user's videos.
[2024-07-26 09:59:57,325][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 54.84it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 65.75it/s]
[2024-07-26 09:59:57,366][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 09:59:57,366][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 09:59:57,366][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 09:59:57,366][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:00:01,163][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of how you could create a simple TikTok bot scraper using Go:

**Note:** Before we dive into the code, the TikTok API does not provide an official API for scraping data, as it's against their terms of service.
[2024-07-26 10:00:01,164][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 115.46it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 134.07it/s]
[2024-07-26 10:00:01,185][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:00:01,185][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:00:01,185][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:00:01,185][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:00:07,012][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic TikTok bot scraper written in Go:
```
package main

import (
	"fmt"
	"github.com/dghubble/go-twitter/twitter"
	"github.com/gocollect/gocollect/tiktok"
	"log"
	"net/http"
	"time"
)

func main() {
	// Create a new TikTok client with your app's API key and secret key.

[2024-07-26 10:00:07,013][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 113.81it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 129.61it/s]
[2024-07-26 10:00:07,034][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:00:07,035][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:00:07,035][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:00:07,035][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:00:09,952][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a simple TikTok bot scraper written in Go:

**Disclaimer:** Before you start, please note that scraping TikTok content without permission may violate their terms of service.
[2024-07-26 10:00:09,952][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 120.20it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.64it/s]
[2024-07-26 10:00:09,974][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:00:09,974][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:00:09,974][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:00:09,974][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:00:27,546][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go program that scrapes TikTok videos:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/Puerkons/go-tiktok/tiktok"
)

func main() {
	// Set up the TikTok API client with your app ID and secret key (replace with your own)
	client := tiktok.NewClient("YOUR_APP_ID", "YOUR_SECRET_KEY")

	// Define the search query (e.g., hashtag, and/or username)
	searchQuery := "puppy"

	// Get the user ID of the first result from the search query (this will be used to fetch the video list)
	userID,  err := getUserIDFromSearch(client, searchQuery)
	if err!= nil {
		log.Fatal(err)
	}

	// Fetch the video list of the user with the given ID (e.g., fetch the last 10 videos)
	videoList, err := getVideoList(client, userID, 10)
	if err!= nil {
		log.Fatal(err)
	}

	// Iterate over each video in the list and scrape its data (title, description, thumbnail URL, etc.)

[2024-07-26 10:00:27,547][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 89.72it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 108.60it/s]
[2024-07-26 10:00:27,573][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:00:27,573][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:00:27,573][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:00:27,573][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:00:52,436][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go

package main

import (
	"context"
	"fmt"
	"log"

	"github.com/dghubble/go-twitter/twitter"
	"github.com/spf4/go-tiktok/tiktok"
)

func main() {
	// Set up TikTok API credentials and config

	tiktokConfig := &tiktok.Config{
		ClientID:     "YOUR_CLIENT_ID",
		ClientSecret: "YOUR_CLIENT_SECRET",
		redirectURI: "YOUR_REDIRECT_URI",
	}

	// Create a new TikTok client instance

	client, ittiktok.NewClient(tiktokConfig)

	// Define the hashtag to scrape (e.g., #go or #golang)

	hashtag := "#golang"

	// Define the max number of videos to scrape (e.g., 50)

	maxVideos := 50

	// Create a context to cancel the scraping process if needed

	ctx, cancel := context.WithCancel(context.Background())
	defer cancel()

	// Scrape the TikTok hashtag feed

	videos, err := client.HashtagFeed(ctx, hashtag, maxVideos)
	if err!= nil {
		log.Fatal(err)
	}

	// Iterate through the scraped videos and print their info

	for _, video := range videos {
		fmt.Printf("Video ID: %s\n", video.ID)
		fmt.Printf("Author Username: %s\n", video.Author.Username)
		fmt.Printf("Caption: %s\n", video.Caption.Text)
		fmt.Printf("Views: %d\n", video.Views)
		fmt.Println("---")
	}
}
```
This code uses the `github.com/spf4/go-tiktok/tiktok` package to interact with the TikTok API.
[2024-07-26 10:00:52,436][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 66.03it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 79.06it/s]
[2024-07-26 10:00:52,470][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:00:52,470][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:00:52,471][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:00:52,471][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:01:31,652][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go program that scrapes TikTok profiles and retrieves their information:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/dgryski/tiktok"
)

const (
	tikTokAPIURL = "https://api.tiktok.com/v1/"
	userAgent    = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"
)

type TikTokProfile struct {
	ID        string `json:"id"`
	Username  string `json:"username"`
	Name      string `json:"name"`
	Bio       string `json:"bio"`
	Avatar    string `json:"avatar"`
	FollowerCount int `json:"follower_count"`
}

func main() {
	username := "example" // Replace with the username you want to scrape

	client := &http.Client{}
	req, err := http.NewRequest("GET", tikTokAPIURL+"users/"+username+"/info/", nil)
	if err!= nil {
		log.Fatal(err)
	}
	req.Header.Set("User-Agent", userAgent)

	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	var profile TikTokProfile

	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		log.Fatal(err)
	}

	err = json.Unmarshal(body, []byte(profile))
	if err!= nil {
		log.Fatal(err)
	}

	fmt.Printf(" Profile: %+v\n", profile)

	// Scrape follower count from the user's profile page HTML

	htmlReq, err := http.NewRequest("GET", "https://www.tiktok.com/@"+username, nil)
	if err!= nil {
		log.Fatal(err)
	}
	htmlReq.Header.Set("User-Agent", userAgent)

	htmlResp, err := client.Do(htmlReq)
	if err!= nil {
		log.Fatal(err)
	}
	defer htmlResp.Body.Close()

	htmlBody, err := ioutil.ReadAll(htmlResp.Body)
	if err!= nil {
		log.Fatal(err)
	}

	followerCountRE := regexp.MustCompile(`"followerCount":(\d+),`)
	matches := followerCountRE.FindAllStringSubmatch(string(htmlBody), -1)
	for _, match := range matches {
		profile.FollowerCount, _ = strconv.Atoi(match[1])
	}

	fmt.Printf("Follower Count: %d\n", profile.FollowerCount)
}

```

This program uses the following:

*   The `tiktok` package to interact with the TikTok API.

[2024-07-26 10:01:31,653][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 61.59it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:01:37,232][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic TikTok bot scraper in Go:
```
package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/PuerkitoBio/goquery"
)

func main() {
	// Set up the HTTP client with a user agent to avoid being blocked by TikTok's rate limiter.

[2024-07-26 10:01:37,232][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 115.41it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 131.74it/s]
[2024-07-26 10:01:37,254][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:01:37,254][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:01:37,254][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:01:37,254][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:01:52,815][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of how you can create a TikTok bot scraper in Go:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/dghubble/go-twitter/twitter"
	"github.com/gorilla/ cookies"
)

const (
	tikTokAPIURL = "https://m.tiktok.com/api/v4/"
	userAgent   = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.3"
)

type TikTokVideo struct {
	ID        string `json:"id"`
	URL       string `json:"url"`
	Duration int    `json:"duration"`
	Views     int    `json:"views"`
	Likes     int    `json:"likes"`
	Comments  int    `json:"comments"`
}

func main() {
	// Set up the HTTP client with a custom user agent and cookie jar.

[2024-07-26 10:01:52,815][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 89.10it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:02:12,637][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"fmt"
	"github.com/tiktoken/tiktok-go"
)

func main() {
	// Create a new TikTok client with your API token and username/password (if needed)
	client, (tiktok.NewClient("YOUR_API_TOKEN", "YOUR_USERNAME", "YOUR_PASSWORD"))

	// Set the scraper's parameters (e.g., hashtags, to scrape, the top 100 videos)
 params := &tiktok.ScrapeParams{
		Hashtags: []string{"#foryou", "#dance"},
		Limit:    100,
	}

	// Scrape the TikTok data using the provided parametersassistant

```
 vids, err := client.ScrapeVideos(context.Background(), params)
	if err!= nil {
		log.Fatal(err)
	}

	// Loop through each video and extract relevant information (e.g., video ID, caption, likes, comments)
	for _, vid := range vids {
		fmt.Printf("Video ID: %s\nCaption: %s\nLikes: %d\nComments: %d\n",
			vid.ID, vid.Caption, vid.Likes, vid.Comments)
	}
}
```
This code uses the `tiktok-go` package to create a new TikTok client with your API token and username/password (if needed).
[2024-07-26 10:02:12,637][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 83.66it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 102.83it/s]
[2024-07-26 10:02:12,665][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:02:12,665][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:02:12,665][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:02:12,665][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:02:22,318][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go for a TikTok bot scraper:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/goccy/go-json"
)

// TikTok API endpoints and constants

const (
	TikTokAPIBaseURL = "https://api.tiktok.com/"
	SearchEndpoint   = "search/v3/user/"
	UserEndpoint    = "aweme/v1/user/"
VideoEndpoint   = "aweme/v1/video/"
	MaxResults     = 50 // maximum number of results per request

	// Set your TikTok API Key here!

[2024-07-26 10:02:22,318][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 106.85it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 124.45it/s]
[2024-07-26 10:02:22,341][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:02:22,342][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:02:22,342][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:02:22,342][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:02:31,516][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/dghotti/tiktok Scraper/tiktok"
)

func main() {
	// Set up the TikTok API endpoint and authentication credentials (replace with your own)
	apiEndpoint := "https://api.tiktok.com/api/v3/"
	accessToken := "your_access_token_here"
	username := "your_username_here"

	// Create a new TikTok client instance with the access token and username above.

[2024-07-26 10:02:31,517][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 108.01it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 123.11it/s]
[2024-07-26 10:02:31,540][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:02:31,540][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:02:31,540][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:02:31,540][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:02:33,045][watermarkers.semstamp][INFO] - Candidate text: 

I can provide you with a basic code structure for a Go TikTok bot scraper.
[2024-07-26 10:02:33,046][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 123.79it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 136.77it/s]
[2024-07-26 10:02:33,066][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:02:33,067][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:02:33,067][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:02:33,067][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:03:08,647][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/dghotti/tiktokscraper-go"
)

type Bot struct {
	TikTokScraper *tiktokscraper.TikTokScraper

	UserAgent string `json:"user_agent"`
	Cookies     []string `json:"cookies"`

	FollowerCount int `json:"follower_count"`
	FollowingCount int `json:"following_count"`
}

func main() {
	bot := &Bot{}
	loadConfig(bot)

	bot.TikTokScraper = tiktokscraper.NewTikTokScraper(bot.UserAgent, strings.Join(bot.Cookies, "; "))
	bot.TikTokScraper.SetProxy("http://localhost:8080") // optional

loop:
	for {
		select {
		case <-time.After(10 * time.Second): // scrape every 10 seconds

			// get trending hashtags and their corresponding videos count in the last 24 hours)
			trendingHashtags, err := bot.getTrendingHashtags()
			if err!= nil {
				log.Println(err)
				continue loop // skip to next iteration if error occurs)
			}
			fmt.Println(trendingHashtags)

			// get top 3 popular creators and their follower count)
			topCreators, err := bot.getTopCreators()
			if err!= nil {
				log.Println(err)
				continue loop // skip to next iteration if error occurs)
			}
			fmt.Println(topCreators)

			// scrape videos by hashtag #example)
			videos, err := bot.scrapeVideosByHashtag("#example", 10) // scrape 10 videos)
			if err!= nil {
				log.Println(err)
				continue loop // skip to next iteration if error occurs)
			}
			fmt.Println(videos)

			// scrape followers of a specific user)
			followers, err := bot.scrapeFollowers("username")
			if err!= nil {
				log.Println(err)
				continue loop // skip to next iteration if error occurs)
			}
			fmt.Println(followers)
		}
	}
}

func (b *Bot) getTrendingHashtags() ([]map[string]int, error) {
	req, err := http.NewRequest("GET", "https://www.tiktok.com/api/recommend/hashtag/trending
[2024-07-26 10:03:08,648][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 60.02it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 72.18it/s]
[2024-07-26 10:03:08,684][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:03:08,685][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:03:08,685][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:03:08,685][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:03:12,143][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of how you could create a TikTok bot scraper using Go:

**Note:** Before we begin, to scrap data from TikTok, it is very important to respect the terms of service and robots.txt file.


[2024-07-26 10:03:12,144][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 118.59it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 134.39it/s]
[2024-07-26 10:03:12,165][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:03:12,165][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:03:12,165][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:03:12,165][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:03:46,553][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go

package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

// TikTok API endpoints and constants

const (
	tikTokAPI   = "https://www.tiktok.com/api/"
	userAgent  = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"
)

type TikTokResponse struct {
	Data     []struct {
		ID        string `json:"id"`
		Username  string `json:"username"`
		Avatar    string `json:"avatarThumb"`
		Nickname  string `json:"nickname"`
		Sig       string `json:"signature"`
		Followers int    `json:"followerCount"`
		Following int    `json:"followingCount"`
	} `json:"data"`
}

func main() {
	// Set up HTTP client with User Agent header

	client := &http.Client{}
	req, err := http.NewRequest("GET", tikTokAPI+"users/", nil)
	if err!= nil {
		log.Fatal(err)
	}
	req.Header.Set("User-Agent", userAgent)

	// Send request to TikTok API

	resp, err := client.Do(req)
	if err!= nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()

	// Parse JSON response from TikTok API

	var tikTokResp TikTokResponse

	err = json.NewDecoder(resp.Body).Decode(&tikTokResp)
	if err!= nil {
		log.Fatal(err)
	}

	// Extract user data from JSON response

	for _, user := range tikTokResp.Data {
		fmt.Printf("Username: %s\n", user.Username)
		fmt.Printf("Avatar: %s\n", user.Avatar)
		fmt.Printf("Nickname: %s\n", user.Nickname)
		fmt.Printf("Signature: %s\n", user.Sig)
		fmt.Printf("Followers: %d\n", user.Followers)
		fmt.Printf("Following: %d\n", user.Following)
		fmt.Println("")
	}
}
```
This code sends a GET request to the TikTok API's `/users/` endpoint to fetch a list of users.
[2024-07-26 10:03:46,554][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 68.29it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 73.66it/s]
[2024-07-26 10:03:46,588][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:03:46,588][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:03:46,589][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:03:46,589][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:04:00,838][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"
)

type TikTokVideo struct {
	ID        string `json:"id"`
	Username  string `json:"username"`
	DisplayName string `json:"displayName"`
	Avatar    string `json:"avatar"`
	Caption   string `json:"caption"`
	CreateTime int64 `json:"createTime"`
	Duration int `json:"duration"`
	PlayCount int `json:"playCount"`
	CommentCount int `json:"commentCount"`
}

func main() {
	// Set up the TikTok API endpoint and authentication credentials (replace with your own)
	tiktokAPIEndpoint := "https://api.tiktok.com/v2/"
	clientID := "your_client_id_here"
	clientSecret := "your_client_secret_here"

	// Create a new HTTP client with a timeout of 10 seconds.

[2024-07-26 10:04:00,838][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 93.99it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 113.35it/s]
[2024-07-26 10:04:00,864][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:04:00,864][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:04:00,864][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:04:00,864][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:04:16,702][watermarkers.semstamp][INFO] - Candidate text: 

Here's an example code in Golang to create a TikTok bot scraper:
```go

package main

import (
	"context"
	"fmt"
	"log"

	"github.com/gorilla/websocket"
)

func main() {
	// Set up TikTok API endpoint and credentials

	apiEndpoint := "https://api.tiktok.com/api/v4/"
	username := "your_username"
	password := "your_password"

	// Create a new HTTP client

	client := &http.Client{}

	// Login to TikTok API and get the session token

	loginResp, := login(client, apiEndpoint, username, password)
	sessionToken := loginResp.Data.SessionToken

	// Set up WebSocket connection for real-time data

	wsConn, err := websocket.Dial("wss://ws.tiktok.com/wss", nil, http.Header{"Sec-WebSocket-Version": {"13"}})
	if err!= nil {
		log.Fatal(err)
	}

	defer wsConn.Close()

	// Subscribe to user feed updates

	subscribeToUserFeed(wsConn, sessionToken, "username_to_scrape")

	// Start scraping!


[2024-07-26 10:04:16,702][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 94.22it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 106.65it/s]
[2024-07-26 10:04:16,727][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:04:16,728][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:04:16,728][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:04:16,728][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:04:46,065][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of Go code for a TikTok bot scraper:
```
package main

import (
	"context"
	"fmt"
	"log"

	"github.com/chromedp/cdproto/cdp"
	"github.com/chromedp/go-chrome-devtools/devtools"
)

func main() {
	// Create a new Chrome DevTools session

	ctx, := context.Background()
	devt := devtools.New(ctx)
	err := devt.LaunchChrome("https://www.tiktok.com/@username", nil)
	if err!= nil {
		log.Fatal(err)
	}

	// Navigate to the user's profile page

	err = devt.Page.Navigate(ctx, "https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	// Wait for the page to load

	err = devt.Page.WaitForLoadState(ctx, AwaitingInitialLoad)
	if err!= nil {
		log.Fatal(err)
	}

	// Get the HTML content of the page

	html, err := devt.Page.GetContent(ctx)
	if err!= nil {
		log.Fatal(err)
	}

	// Parse the HTML content using the `goquery` library

	doc, := NewDocumentFromReader(strings.NewReader(html))
	var videos []string

	// Find all video elements on the page

	doc.Find("div[data-e2e='video-container']").Each(func(i int, s *Selection) {
		videoURL, := s.AttrOr("href", "")
		videos = append(videos, videoURL)
	})

	// Print out the list of video URLs

	fmt.Println("Video URLs:")
	for _, url := range videos {
		fmt.Println(url)
	}

	// Close the Chrome DevTools session

	devt.Close()
}
```
This code launches a new Chrome DevTools session, navigates to the specified user's profile page, waits for the page to load, extracts the HTML content, parses it using `goquery`, finds all video elements on the page, and prints out their URLs.


[2024-07-26 10:04:46,066][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 61.85it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 73.89it/s]
[2024-07-26 10:04:46,102][watermarkers.semstamp][INFO] - LSH Candidate: 1
[2024-07-26 10:04:46,102][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:04:46,102][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:04:46,102][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:05:11,616][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go that uses the `colly` library to scrape TikTok user information and video data:
```go

package main

import (
    "fmt"
    "log"

    "github.com/antchfx/htmlquery"
    "github.com/gocolly/colly/v2"
)

func main() {
    c := colly.NewCollector(
        colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
    )

    // Set up event handlers for the collector

    c.OnHTML("/@", func(e *colly.HTMLElementEvent) {
        // Extract user information from the profile page

        username := htmlquery.FindOne(e.DOM,ed,2019,1981, e.Resp.Body)
        followers := htmlquery.FindOne(e.DOM,"//*[@id=\"followers\"]")
        following := htmlquery.FindOne(e.DOM,"//*[@id=\"following\"]")

        fmt.Println("Username:", username.Text())
        fmt.Println("Followers:", followers.Text())
        fmt.Println("Following:", following.Text())

        // Extract video data from the user's video list

        videos := htmlquery.Find(e.DOM, "//div[@class=\"video-container\"]")
        for _, video := range videos {
            vid := video.Attr("data-video-id")
            description := video.FindOne("//p[@class=\"description\"]").Text()
            views := video.FindOne("//span[@class=\"views\"]").Text()

            fmt.Println("Video ID:", vid)
            fmt.Println("Description:", description)
            fmt.Println("Views:", views)
        }
    })

    // Start scraping with a specific TikTok user URL

    c.Visit("https://www.tiktok.com/@username")

    log.Printf("Scraping finished!")

[2024-07-26 10:05:11,617][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 67.98it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 73.93it/s]
[2024-07-26 10:05:11,652][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:05:11,652][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:05:11,652][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:05:11,652][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:05:55,647][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
	"time"

	"github.com/gorilla/cookies"
)

type TikTokResponse struct {
	Data   []TikTokVideo `json:"data"`
	HasMore bool         `json:"has_more"`
}

type TikTokVideo struct {
	ID        string    `json:"id_str"`
	Description string    `json:"description"`
	CreateTime int64     `json:"create_time"`
	User      TikTokUser `json:"author"`
}

type TikTokUser struct {
	ID       string `json:"id_str"`
	Username string `json:"unique_id"`
	Name     string `json:"nickname"`
}

func main() {
	client := &http.Client{}
	jar, _ := cookies.NewJar()
	client.Jar = jar

	// Set up TikTok API endpoint and headers]
	endpoint := "https://api.tiktok.com/node/explore"
	headers := map[string]string{
		"User-Agent":      "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3",
		"Accept-Language": "en-US,en;q=0.8",
		"Content-Type":   "application/json; charset=utf-8",
	}

	// Set up pagination variables]
	var cursor string = ""
	hasMore := true

	for hasMore {
		req, err := http.NewRequest("GET", endpoint, nil)
		if err!= nil {
			log.Fatal(err)
		}

		// Add headers and query params]
		for key, value := range headers {
			req.Header.Add(key, value)
		}
		q := req.URL.Query()
		q.Add("cursor", cursor)
		req.URL.RawQuery = q.Encode()

		resp, err := client.Do(req)
		if err!= nil {
			log.Fatal(err)
		}
		defer resp.Body.Close()

		var tikTokResp TikTokResponse

		err = json.NewDecoder(resp.Body).Decode(&tikTokResp)
		if err!= nil {
			log.Fatal(err)
		}

		for _, video := range tikTokResp.Data {
			fmt.Printf("Video ID: %s\nDescription: %s\nCreateTime: %d\nUsername: %s\nName: %s\n\n",
				video.ID, video.Description, video.CreateTime, video.User.Username, video.User.Name)
		}

		hasMore = tikTokResp.HasMore

		cursor = tikTokResp.Data[len(tikTokResp.Data)-1].ID

		time.Sleep(2 * time.Second) // rate limit delay]
	}
}
```
This code uses the `net/http` package to send GET requests to the TikTok API, and the `encoding/json` package to decode the JSON responses.


[2024-07-26 10:05:55,647][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 61.11it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:06:17,224][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a basic Go script that uses the `colly` web scraping framework to scrape TikTok user information:
```go

package main

import (
	"fmt"
	"log"

	"github.com/antchfx/xmlquery"
	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colty.UserAgent(" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3"),
	)

	c.OnHTML(`html`, func(e *colly.HTMLElement) {
		e.ForEach(`div[class="user-info"]`, func(_ int, rangeNode *xmlquery.Node) {
			username := rangeNode.FirstChild.Elements()[0].FirstChild.Data

			// Get user profile link and extract user ID from it 
			profileLink := rangeNode.FirstChild.Attr[1]
			userId := profileLink[strings.Index(profileLink, "/@")+2:]

			fmt.Printf("Username: %s\n", username)
			fmt.Printf("User ID: %s\n", userId)
		})
	})

	c.Visit("https://www.tiktok.com/@example")
}
```
This script uses Colly to send an HTTP request to the specified TikTok user page, extracts the user's profile information (username and user ID), and prints it to the console.


[2024-07-26 10:06:17,225][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 77.02it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 95.96it/s]
[2024-07-26 10:06:17,255][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:06:17,255][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:06:17,255][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:06:17,255][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:06:22,340][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code in Go to create a TikTok bot scraper:
```
package main

import (
	"context"
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/dgryski/go-farm"
)

// TikTokUser represents a TikTok user's information.

[2024-07-26 10:06:22,341][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 117.16it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:06:30,086][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example code for a Go TikTok bot scraper:
```go

package main

import (
	"fmt"
	"github.com/gocolly/colly"
	"log"
	"net/http"
	"strings"
)

type TikTokUser struct {
	Username string `json:"username"`
	UserId   string `json:"user_id"`
	Bio      string `json:"bio"`
	Avatar  string `json:"avatar"`
}

func main() {
	// Create a new Colly instance with the TikTok user agent header set.

[2024-07-26 10:06:30,087][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 106.21it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 128.02it/s]
[2024-07-26 10:06:30,109][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:06:30,110][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:06:30,110][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:06:30,110][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:07:17,880][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a Go TikTok bot scraper code:
```go

package main

import (
	"context"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"

	"github.com/chromedp/cdproto/network"
	"github.com/gocollective/tiktok-api-go/v2"
)

func main() {
	// Set up the TikTok API client with your app's credentials 
	tiktokClient := tiktok.NewClient("YOUR_APP_ID", "YOUR_APP_SECRET")

	// Create a new instance of the Chrome DevTools Protocol client 
	cdp := &http.Client{}
	ctx := context.Background()

	// Navigate to the TikTok homepage and get the cookies 
	resp, it tiktokClient.GET(ctx, "/")
	defer resp.Body.Close()
	body, := ioutil.ReadAll(resp.Body)
	log.Println(string(body))

	cookies := strings.Split(resp.Header.Get("Set-Cookie"), "; ")
	var cookieJar []*network.Cookie

	for _, cookie := range cookies {
		cookieParts := strings.Split(cookie, "}")
		name := strings.TrimSpace(cookieParts[0])
		value := strings.TrimSpace(cookieParts[1])
		cookieJar = append(cookieJar, &network.Cookie{
			Name:  name,
			Value: value,
		})
	}

	// Create a new browser session 
	sessionID, := "TikTokBot-" + uuid.New().String()
	err := cdp.Exec(ctx, network.NewSession(sessionID))
	if err!= nil {
		log.Fatal(err)
	}

	// Set the cookies for the session 
	err = cdp.Exec(ctx, network.SetCookies(cookieJar))
	if err!= nil {
		log.Fatal(err)
	}

	// Navigate to the user's profile page 
	userID := "username123" // Replace with the desired username 
	resp, err = tiktokClient.GET(ctx, "/@"+userID)
	defer resp.Body.Close()
	body, _ = ioutil.ReadAll(resp.Body)

	// Extract the video URLs from the HTML 
	doc, _ := html.Parse(strings.NewReader(string(body)))
	videoURLs := make([]string, 0)
	foreachNode(doc, func(node *html.Node) {
		if node.Type == html.ElementNode && node.Data == "a" {
			for _, attr := range node.Attr {
				if attr.Key == "href" && strings.Contains(attr.Val, "/video/") {
					videoURLs = append(videoURLs, "https://www.tiktok.com"+attr.Val)
				}
			}
		}
	})

	// Print the extracted video URLs 
	log.Println("Extracted video URLs:")
	for _, url := range videoURLs {
		log.Println(url)
	}
}

func foreachNode(node *html.Node, f func(*html.Node)) {
	if f!= nil {
		f(node)
	}
	for c := node.FirstChild; c!= nil; c = c.NextSibling {
		foreachNode(c, f)
	}
}
```
This code sets up a TikTok API client using your app's credentials, navigates to the TikTok homepage to get the necessary cookies, creates a new browser session, sets the cookies for the session, navigates to a specific user's profile page, extracts the video URLs from the HTML, to finally print them.


[2024-07-26 10:07:17,881][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 52.98it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 70.02it/s]
[2024-07-26 10:07:17,920][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:07:17,921][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:07:17,921][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:07:17,921][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:07:19,359][watermarkers.semstamp][INFO] - Candidate text: 

I can provide you with an example code for a Go TikTok bot scraper.
[2024-07-26 10:07:19,359][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.62it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.47it/s]
[2024-07-26 10:07:19,380][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:07:19,380][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:07:19,380][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:07:19,380][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:03,672][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of Go code that can be used to scrape TikTok user information and video data using the TikTok API:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

type TikTokUser struct {
		ID    string `json:"id"`
		Name  string `json:"name"`
		Username string `json:"username"`
}

type TikTokVideo struct {
		ID        string `json:"id"`
		Description string `json:"description"`
		CreateTime int64 `json:"createTime"`
		Duration   int    `json:"duration"`
		CoverURL   string `json:"coverUrl"`
}

func getTikTokUser(username string) (TikTokUser, error) {
	url := fmt.Sprintf("https://api.tiktok.com/api/user/detail/?username=%s", username)
	req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		return TikTokUser{}, err 
	}
 req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
	resp, err := http.DefaultClient.Do(req)
	if err!= nil {
		return TikTokUser{}, err 
	}
	defer resp.Body.Close()
	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		return TikTokUser{}, err 
	}
	var user TikTokUser 
	err = json.Unmarshal(body, &user)
	return user, err 
}

func getTikTokVideos(userID string) ([]TikTokVideo, error) {
	url := fmt.Sprintf("https://api.tiktok.com/api/video/list/?userId=%s&count=50", userID)
	req, err := http.NewRequest("GET", url, nil)
	if err!= nil {
		return []TikTokVideo{}, err 
	}
 req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
	resp, err := http.DefaultClient.Do(req)
	if err!= nil {
		return []TikTokVideo{}, err 
	}
	defer resp.Body.Close()
	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		return []TikTokVideo{}, err 
	}
	var videosResponse struct {
		Videos []TikTokVideo `json:"videos"`
	}
	err = json.Unmarshal(body, &videosResponse)
	return videosResponse.Videos, err 
}

func main() {
	username := "example" // replace with the username you want to scrape 
	user, err := getTikTokUser(username)
	if err!= nil {
		log.Fatal(err) 
	} 
	fmt.Printf("User: %+v\n", user) 

	videos, err := getTikTokVideos(user.ID)
	if err!= nil {
		log.Fatal(err) 
	} 
	for _, video := range videos {
		fmt.Printf("Video: %+v\n", video) 
	}
}
```
This code uses the `net/http` package to make GET requests to the TikTok API, and the `encoding/json` package to unmarshal the JSON responses.


[2024-07-26 10:08:03,672][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 61.04it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 71.56it/s]
[2024-07-26 10:08:03,709][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:08:03,709][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:03,709][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:03,709][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:25,966][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of a simple Go program that uses the TikTok API to scrape user information:
```
package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
)

type User struct {
	ID        string `json:"id"`
	Username  string `json:"username"`
	Name      string `json:"name"`
	Bio       string `json:"bio"`
	Follower int    `json:"follower_count"`
}

func main() {
	client := &http.Client{}
	req, err := http.NewRequest("GET", "https://api.tiktok.com/v1/user/info/?username=example_user", nil)
	if err!= nil {
		log.Fatal(err)
	}
	req.Header.Set("User-Agent", "TikTok Scraper")
	resp, response, err := client.Do(req)
	defer resp.Body.Close()
	if err!= nil {
		log.Fatal(err)
	}
	body, err := ioutil.ReadAll(resp.Body)
	if err!= nil {
		log.Fatal(err)
	}
	var user User

	err = json.Unmarshal(body, &user)
	if err!= nil {
		log.Fatal(err)
	}
	fmt.Printf("Username: %s\n", user.Username)
	fmt.Printf("Name: %s\n", user.Name)
	fmt.Printf("Bio: %s\n", user.Bio)
	fmt.Printf("Follower Count: %d\n", user.Follower)
}
```
This code sends a GET request to the TikTok API with the username `example_user` and parses the JSON response into a `User` struct.


[2024-07-26 10:08:25,966][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 71.60it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 82.41it/s]
[2024-07-26 10:08:25,998][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:08:25,998][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:25,999][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:25,999][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:40,522][watermarkers.semstamp][INFO] - Candidate text: 

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.


[2024-07-26 10:08:40,523][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 92.56it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 113.18it/s]
[2024-07-26 10:08:40,548][watermarkers.semstamp][INFO] - LSH Candidate: 2
[2024-07-26 10:08:40,549][watermarkers.semstamp][INFO] - Candidate text falls within the semantic partition and is a single sentence.
[2024-07-26 10:08:40,549][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:40,549][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:40,551][watermarkers.semstamp][INFO] - WARNING: desired semantic signature can't be sampled after max_trials 50
[2024-07-26 10:08:40,551][watermarkers.semstamp][INFO] - CONTEXT: <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>
[2024-07-26 10:08:40,551][watermarkers.semstamp][INFO] - NOTE: use regular (non-filtered-by-sig) continuation: 

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.


[2024-07-26 10:08:40,551][watermarkers.semstamp][INFO] - Updating the sentence end criteria with <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.


[2024-07-26 10:08:40,551][watermarkers.semstamp][INFO] - Text has 1 sentences.
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
[2024-07-26 10:08:41,867][watermarkers.semstamp][INFO] - Candidate text: Here's how it works:

1.
[2024-07-26 10:08:41,867][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.83it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:43,105][watermarkers.semstamp][INFO] - Candidate text: To run this script:

1.
[2024-07-26 10:08:43,105][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 124.24it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:45,451][watermarkers.semstamp][INFO] - Candidate text: **Note:** Please make sure to respect TikTok's terms of service and robots.txt file when scraping their website.
[2024-07-26 10:08:45,451][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.18it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 135.75it/s]
[2024-07-26 10:08:45,472][watermarkers.semstamp][INFO] - LSH Candidate: 1
[2024-07-26 10:08:45,472][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:45,472][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:45,472][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:46,905][watermarkers.semstamp][INFO] - Candidate text: Here's how you can use it:

1.
[2024-07-26 10:08:46,906][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 124.97it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:49,252][watermarkers.semstamp][INFO] - Candidate text: **Please note that:**

* You should replace `"@username"` with the actual username you want to scrape.

[2024-07-26 10:08:49,253][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 123.48it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 136.48it/s]
[2024-07-26 10:08:49,274][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:08:49,274][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:49,274][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:49,274][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:50,432][watermarkers.semstamp][INFO] - Candidate text: Please note that:

1.
[2024-07-26 10:08:50,432][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.04it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.77it/s]
[2024-07-26 10:08:50,452][watermarkers.semstamp][INFO] - LSH Candidate: 5
[2024-07-26 10:08:50,453][watermarkers.semstamp][INFO] - Candidate text falls within the semantic partition and is a single sentence.
[2024-07-26 10:08:50,453][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:08:50,453][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:50,454][watermarkers.semstamp][INFO] - Updating the sentence end criteria with <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1.
[2024-07-26 10:08:50,455][watermarkers.semstamp][INFO] - Text has 2 sentences.
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
[2024-07-26 10:08:53,095][watermarkers.semstamp][INFO] - Candidate text:  This script is just an example and may not work as-is due to TikTok's frequently changing HTML structure.

[2024-07-26 10:08:53,095][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.85it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.25it/s]
[2024-07-26 10:08:53,116][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:08:53,116][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:53,116][watermarkers.semstamp][INFO] - acceptmasklist: [1, 4]
[2024-07-26 10:08:53,116][watermarkers.semstamp][INFO] - acceptmaskstr: 1,4
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:55,107][watermarkers.semstamp][INFO] - Candidate text:  You should replace `"@username"` with the actual TikTok username you want to scrape.

[2024-07-26 10:08:55,107][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.79it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.27it/s]
[2024-07-26 10:08:55,128][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:08:55,128][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:08:55,128][watermarkers.semstamp][INFO] - acceptmasklist: [1, 4]
[2024-07-26 10:08:55,128][watermarkers.semstamp][INFO] - acceptmaskstr: 1,4
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:57,257][watermarkers.semstamp][INFO] - Candidate text:  This script is against TikTok's terms of service and might get your IP blocked if used excessively.

[2024-07-26 10:08:57,258][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 127.41it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:08:59,885][watermarkers.semstamp][INFO] - Candidate text:  This script is for educational purposes only and should not be used to scrape data in bulk or for commercial purposes without TikTok's consent.

[2024-07-26 10:08:59,886][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.35it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:01,958][watermarkers.semstamp][INFO] - Candidate text:  You need to replace `@username` with the actual TikTok username you want to scrape.

[2024-07-26 10:09:01,959][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.36it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 136.97it/s]
[2024-07-26 10:09:01,980][watermarkers.semstamp][INFO] - LSH Candidate: 0
[2024-07-26 10:09:01,980][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:09:01,980][watermarkers.semstamp][INFO] - acceptmasklist: [1, 4]
[2024-07-26 10:09:01,980][watermarkers.semstamp][INFO] - acceptmaskstr: 1,4
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:03,902][watermarkers.semstamp][INFO] - Candidate text:  You need to replace `"@username"` with the actual username you want to scrape.

[2024-07-26 10:09:03,902][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 127.55it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:05,765][watermarkers.semstamp][INFO] - Candidate text:  You should replace `"@username"` with the actual username you want to scrape.

[2024-07-26 10:09:05,765][watermarkers.semstamp][INFO] - Accept Mask: tensor([1, 4], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 125.85it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.25it/s]
[2024-07-26 10:09:05,786][watermarkers.semstamp][INFO] - LSH Candidate: 4
[2024-07-26 10:09:05,786][watermarkers.semstamp][INFO] - Candidate text falls within the semantic partition and is a single sentence.
[2024-07-26 10:09:05,786][watermarkers.semstamp][INFO] - acceptmasklist: [1, 4]
[2024-07-26 10:09:05,786][watermarkers.semstamp][INFO] - acceptmaskstr: 1,4
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:05,788][watermarkers.semstamp][INFO] - Updating the sentence end criteria with <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1. You should replace `"@username"` with the actual username you want to scrape.

[2024-07-26 10:09:05,788][watermarkers.semstamp][INFO] - Text has 3 sentences.
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
[2024-07-26 10:09:08,292][watermarkers.semstamp][INFO] - Candidate text: 2. This script only scrapes the video links and prints them out.
[2024-07-26 10:09:08,292][watermarkers.semstamp][INFO] - Accept Mask: tensor([7, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.37it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.50it/s]
[2024-07-26 10:09:08,313][watermarkers.semstamp][INFO] - LSH Candidate: 3
[2024-07-26 10:09:08,313][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:09:08,313][watermarkers.semstamp][INFO] - acceptmasklist: [7, 2]
[2024-07-26 10:09:08,313][watermarkers.semstamp][INFO] - acceptmaskstr: 7,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:10,672][watermarkers.semstamp][INFO] - Candidate text: 2. This script is against TikTok's terms of service and may result in your IP being blocked.

[2024-07-26 10:09:10,672][watermarkers.semstamp][INFO] - Accept Mask: tensor([7, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 127.09it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:12,970][watermarkers.semstamp][INFO] - Candidate text: 2. This script only scrapes the links, and does not download or process the videos themselves.
[2024-07-26 10:09:12,971][watermarkers.semstamp][INFO] - Accept Mask: tensor([7, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 127.35it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.23it/s]
[2024-07-26 10:09:12,991][watermarkers.semstamp][INFO] - LSH Candidate: 2
[2024-07-26 10:09:12,992][watermarkers.semstamp][INFO] - Candidate text falls within the semantic partition and is a single sentence.
[2024-07-26 10:09:12,992][watermarkers.semstamp][INFO] - acceptmasklist: [7, 2]
[2024-07-26 10:09:12,992][watermarkers.semstamp][INFO] - acceptmaskstr: 7,2
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:12,993][watermarkers.semstamp][INFO] - Updating the sentence end criteria with <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1. You should replace `"@username"` with the actual username you want to scrape.
2. This script only scrapes the links, and does not download or process the videos themselves.
[2024-07-26 10:09:12,993][watermarkers.semstamp][INFO] - Text has 4 sentences.
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
[2024-07-26 10:09:14,987][watermarkers.semstamp][INFO] - Candidate text:  You would need additional logic to do so.

[2024-07-26 10:09:14,987][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.95it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.38it/s]
[2024-07-26 10:09:15,008][watermarkers.semstamp][INFO] - LSH Candidate: 3
[2024-07-26 10:09:15,008][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:09:15,008][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:09:15,008][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:16,533][watermarkers.semstamp][INFO] - Candidate text:  You would need additional logic to handle that.

[2024-07-26 10:09:16,533][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 129.63it/s]
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:19,117][watermarkers.semstamp][INFO] - Candidate text:  
3. TikTok has a rate limit on requests, A more sophisticated approach would be needed for larger-scale scraping.

[2024-07-26 10:09:19,117][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 126.80it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 136.71it/s]
[2024-07-26 10:09:19,138][watermarkers.semstamp][INFO] - LSH Candidate: 3
[2024-07-26 10:09:19,138][watermarkers.semstamp][INFO] - Candidate text is doesn't fall into the correct place in the embedding space.
[2024-07-26 10:09:19,138][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:09:19,138][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
The attention mask and the pad token id were not set. As a consequence, you may observe unexpected behavior. Please pass your input's `attention_mask` to obtain reliable results.
Setting `pad_token_id` to `eos_token_id`:128001 for open-end generation.
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:20,734][watermarkers.semstamp][INFO] - Candidate text:  You would need additional code to handle those tasks.

[2024-07-26 10:09:20,734][watermarkers.semstamp][INFO] - Accept Mask: tensor([5, 2], device='cuda:0')
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 128.39it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.59it/s]
[2024-07-26 10:09:20,755][watermarkers.semstamp][INFO] - LSH Candidate: 5
[2024-07-26 10:09:20,755][watermarkers.semstamp][INFO] - Candidate text falls within the semantic partition and is a single sentence.
[2024-07-26 10:09:20,755][watermarkers.semstamp][INFO] - acceptmasklist: [5, 2]
[2024-07-26 10:09:20,755][watermarkers.semstamp][INFO] - acceptmaskstr: 5,2
Data appended to ./inputs/dev_semstamp/gen_stats/prompt_111.csv
[2024-07-26 10:09:20,757][watermarkers.semstamp][INFO] - Updating the sentence end criteria with <|begin_of_text|><|start_header_id|>system<|end_header_id|>

You are a helpful personal assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>

code for a go tiktok bot scrapper<|eot_id|><|start_header_id|>assistant<|end_header_id|>

Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1. You should replace `"@username"` with the actual username you want to scrape.
2. This script only scrapes the links, and does not download or process the videos themselves. You would need additional code to handle those tasks.

[2024-07-26 10:09:20,757][watermarkers.semstamp][INFO] - Text has 5 sentences.
[2024-07-26 10:09:20,757][watermarkers.semstamp][INFO] - Prompt: code for a go tiktok bot scrapper
[2024-07-26 10:09:20,757][watermarkers.semstamp][INFO] - Response: ('Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:\n```go\n\npackage main\n\nimport (\n\t"fmt"\n\t"log"\n\n\t"github.com/gocolly/colly/v2"\n)\n\nfunc main() {\n\tc := colly.NewCollector(\n\t\tcolly.AllowedDomains("tiktok.com", "www.tiktok.com"),\n\t)\n\n\tc.OnHTML(`a[href]`, func(e *colly.HTMLElement) {\n\t\tlink := e.Request.AbsoluteURL(e.Attr("href"))\n\t\tif link!= "" && strings.Contains(link, "video/") {\n\t\t\tfmt.Println(link)\n\t\t}\n\t})\n\n\tc.OnRequest(func(r *colly.Request) {\n\t\tfmt.Println("Visiting", r.URL.String())\n\t})\n\n\terr := c.Visit("https://www.tiktok.com/@username")\n\tif err!= nil {\n\t\tlog.Fatal(err)\n\t}\n\n\tc.Wait()\n}\n\n```\nThis script will scrape all video links from the given username\'s profile page.\n\nPlease note that:\n\n1. You should replace `"@username"` with the actual username you want to scrape.\n2. This script only scrapes the links, and does not download or process the videos themselves. You would need additional code to handle those tasks.', 70)
[2024-07-26 10:09:20,757][watermarker][INFO] - Received completion: Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1. You should replace `"@username"` with the actual username you want to scrape.
2. This script only scrapes the links, and does not download or process the videos themselves. You would need additional code to handle those tasks.
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 96.19it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.85it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.07it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.15it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.46it/s]
n_watermark: 4, n_test_sent: 4
zscore: 3.464101615137755
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 114.00it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.35it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 137.84it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.11it/s]
Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|██████████| 1/1 [00:00<00:00, 138.27it/s]
n_watermark: 4, n_test_sent: 4
zscore: 3.464101615137755
[2024-07-26 10:09:20,859][__main__][INFO] - Watermarked Text: Here is an example of Go code that scrapes TikTok videos using the `colly` web scraping framework:
```go

package main

import (
	"fmt"
	"log"

	"github.com/gocolly/colly/v2"
)

func main() {
	c := colly.NewCollector(
		colly.AllowedDomains("tiktok.com", "www.tiktok.com"),
	)

	c.OnHTML(`a[href]`, func(e *colly.HTMLElement) {
		link := e.Request.AbsoluteURL(e.Attr("href"))
		if link!= "" && strings.Contains(link, "video/") {
			fmt.Println(link)
		}
	})

	c.OnRequest(func(r *colly.Request) {
		fmt.Println("Visiting", r.URL.String())
	})

	err := c.Visit("https://www.tiktok.com/@username")
	if err!= nil {
		log.Fatal(err)
	}

	c.Wait()
}

```
This script will scrape all video links from the given username's profile page.

Please note that:

1. You should replace `"@username"` with the actual username you want to scrape.
2. This script only scrapes the links, and does not download or process the videos themselves. You would need additional code to handle those tasks.
[2024-07-26 10:09:20,859][__main__][INFO] - Is Watermark Detected?: True
[2024-07-26 10:09:20,859][__main__][INFO] - Score: 3.464101615137755
[2024-07-26 10:09:20,859][__main__][INFO] - Time taken: 1136.0288772583008
Data saved to ./inputs/dev_semstamp/watermarked_texts.csv
